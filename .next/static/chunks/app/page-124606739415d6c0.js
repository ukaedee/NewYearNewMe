(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6253:(e,t,s)=>{Promise.resolve().then(s.bind(s,8152))},5147:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var i=s(5155),n=s(2115),r=s(3495),a=s(3463),l=s(9795);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,a.$)(t))}let c={initial:{"--x":"-100%",scale:.8},animate:{"--x":["200%","-100%"],scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{stiffness:200,damping:20,mass:1.5,"--x":{duration:1.8,ease:"easeInOut",repeat:1/0,repeatDelay:1,times:[0,1],repeatType:"loop"},scale:{type:"spring",stiffness:200,damping:20,mass:.5}}},u=n.forwardRef((e,t)=>{let{children:s,className:n,...a}=e;return(0,i.jsxs)("div",{className:"relative isolate",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-[#B302FF]/30 blur-xl rounded-full -z-10","aria-hidden":"true"}),(0,i.jsx)(r.P.button,{ref:t,...c,...a,className:o("relative rounded-full px-24 py-5 font-medium","transition-all duration-300 ease-in-out","hover:shadow-[0_0_25px_rgba(255,255,255,0.5)]","bg-[#B302FF]/60 backdrop-blur-2xl","border border-gray-200/30","shadow-lg","font-noto-sans-jp font-bold",n),children:(0,i.jsx)("span",{className:o("relative block size-full text-xl uppercase tracking-wide text-white whitespace-nowrap"),style:{maskImage:"linear-gradient(-75deg,rgba(255,255,255,1) calc(var(--x) + 20%),transparent calc(var(--x) + 30%),rgba(255,255,255,1) calc(var(--x) + 100%))"},children:s})})]})});u.displayName="ShinyButton";let d=u},3204:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});let i=[{text:"次の電車は、スマホ封印でいこ！",description:"次の電車は、スマホ封印でいこ！",video:"result-1.mp4",textLines:["次の電車は、","スマホ封印でいこ！"],descriptionLines:["窓の外とか人間観察してたら、","意外とリフレッシュできるかも！","目的地つくまで、ぼーっとしてみよ"]},{text:"一駅手前で降りて、マップに頼らず帰ってみよ！",description:"一駅手前で降りて、マップに頼らず帰ってみよ！",video:"result-2.mp4",textLines:["一駅手前で降りて、","マップに頼らず帰ってみよ！"],descriptionLines:["いつものルートじゃなくて、","気まぐれで別の道歩いてみよう。","寄り道して帰るのも","たまには悪くないんじゃない？"]},{text:"今日はイヤホン外して外の音きいてみよ！",description:"今日はイヤホン外して外の音きいてみよ！",video:"result-3.mp4",textLines:["今日はイヤホン外して","外の音きいてみよ！"],descriptionLines:["鳥の声・車の音とかの生活音を聞いて","今の音ってなんだろとか考えながら","ぼーっと過ごす時間も必要だと思うんだよね〜"]},{text:"目線ちょっと下げて、足元の景色チェックしてみよ？",description:"目線ちょっと下げて、足元の景色チェックしてみよ？",video:"result-4.mp4",textLines:["目線ちょっと下げて、","足元の景色チェックしてみよ？"],descriptionLines:["地面の模様とか、葉っぱとか小石とか","普段よりゆっくり歩いて、よーく見ると","新しい発見があって面白いんだよね〜"]},{text:"今日は視線ちょい上げで過ごしてこ！",description:"今日は視線ちょい上げで過ごしてこ！",video:"result-5.mp4",textLines:["今日は視線ちょい上げで","過ごしてみよ！"],descriptionLines:["天井や壁の模様、看板とか屋根とか","どんな材質・色・模様なのか","観察しながら歩くの楽しいんだよ！意外と！"]},{text:"明日は早起きして美味しい朝ごはん食べに行かない？",description:"明日は早起きして美味しい朝ごはん食べに行かない？",video:"result-6.mp4",textLines:["明日は早起きして","美味しい朝ごはん食べに行かない？"],descriptionLines:["明日の朝食いいもの食べる！","って決めたら明日が楽しみすぎない？！","スワイプやめて、明日に向けて休もうぜ〜！"]},{text:"次のごはんは、スマホ見ずに食べよ！",description:"次のごはんは、スマホ見ずに食べよ！",video:"result-7.mp4",textLines:["次のごはんは、","スマホ見ずに食べよ！"],descriptionLines:["なんか意識高めのやつとか思ったでしょ〜！","ちゃんと色と向き合って、味わって食べたら","自分に向き合う時間にもなるかな～って思うんだよね"]}]},8152:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var i=s(5155),n=s(2115),r=s(6046),a=s(3495),l=s(5683),o=s(3204),c=s(5147);let u=[{text:"新年の抱負を立てても、続いたことないの私だけ？？ｗ",isB:!1,name:"kaede"},{text:"それなｗ2月には忘れてる^^;",isB:!0},{text:"今年はSNSとかちょっと離れて、自分見つめ直す時間増やす目標を掲げたい！！！",isB:!1,name:"kaho"},{text:"お〜！めちゃいいじゃん！\uD83D\uDC96 でもさ、1日スマホ手放すとか現実味なさすぎない？",isB:!0},{text:"いや、それなんよ！絶対気になっちゃうし〜\uD83D\uDE2D\n軽く意識するキッカケとか欲しいよね",isB:!1,name:"remu"},{text:"たしかに！\nちょっとやってみるか〜くらいのテンションなら続けられるかも！",isB:!0},{text:"そういうヒントくれる新年アプリとかあったら、おもろくない？",isB:!1,name:"kaede"}];function d(){let[e,t]=(0,n.useState)(!1),[s,d]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!1),[h,v]=(0,n.useState)(!1),[y,g]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!1),[E,k]=(0,n.useState)(null),L=(0,r.useRouter)(),P=(0,n.useRef)(null),B=(0,n.useRef)(null),[S,R]=(0,n.useState)(0),[T,C]=(0,n.useState)(!1),F=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=setTimeout(()=>{g(!0)},2e3);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{if(!y&&h){let e=setTimeout(()=>{f(!0),v(!1)},1e3);return()=>clearTimeout(e)}},[y,h]),(0,n.useEffect)(()=>{if(p&&P.current){let e=P.current,t=!0,s=()=>{t&&e.paused&&e.play().catch(e=>{console.error("動画の再生に失敗:",e)})},i=s=>{s.preventDefault(),t&&e.paused&&e.play().catch(e=>{console.error("再生の再開に失敗:",e)})};return e.addEventListener("loadeddata",s,{once:!0}),e.addEventListener("pause",i),()=>{t=!1,e.removeEventListener("loadeddata",s),e.removeEventListener("pause",i);try{e.pause()}catch(e){console.error("動画の停止に失敗:",e)}e.currentTime=0}}},[p]);let I=async e=>{try{await e.play()}catch(t){console.error("動画の再生に失敗:",t),setTimeout(async()=>{try{await e.play()}catch(e){console.error("再試行も失敗:",e)}},1e3)}};return(0,n.useEffect)(()=>{if(s&&B.current&&E){let e=B.current,t=!0;if(console.log("Video element mounted:",e),!e.paused)try{e.pause()}catch(e){console.error("Failed to pause previous video:",e)}return e.src="/static/video/".concat(E.video),e.load(),e.addEventListener("loadeddata",()=>{t&&(console.log("Video loaded, attempting to play"),I(e))},{once:!0}),()=>{if(t=!1,!e.paused)try{e.pause()}catch(e){console.error("動画の停止に失敗:",e)}e.currentTime=0}}},[s,E]),(0,n.useEffect)(()=>{if(!y)return;let e=setTimeout(()=>{S<u.length?(u[S].isB||C(!0),setTimeout(()=>{C(!1),R(e=>e+1)},2e3)):setTimeout(()=>{g(!1),v(!0)},3e3)},3e3);return()=>clearTimeout(e)},[S,y]),(0,n.useEffect)(()=>{F.current},[S]),(0,i.jsxs)(a.P.div,{initial:{filter:"blur(10px)",opacity:0},animate:{filter:"blur(0px)",opacity:1},exit:{filter:"blur(10px)",opacity:0},transition:{duration:1},style:{overscrollBehaviorX:"auto"},className:"h-screen w-screen overflow-hidden relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 w-full h-full",style:{backgroundColor:y?"#ffffff":"#9A5AC8",transition:"background-color 0.5s ease-in-out"}}),(0,i.jsx)("div",{className:"absolute inset-0 w-full h-full",style:{backgroundImage:h?"url(/static/background/background.gif)":x?"url(/static/background/opening.gif)":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:y?0:h||x?1:0,transition:"opacity 0.5s ease-in-out",pointerEvents:"none"}}),(0,i.jsx)("div",{className:"relative z-10 h-full flex items-center justify-center",children:y&&(0,i.jsx)("div",{className:"w-full max-w-2xl mx-auto px-4 sm:px-6 md:px-8 py-8 overflow-hidden mt-[-10vh]",children:(0,i.jsx)("div",{className:"max-h-screen overflow-y-auto scrollbar-hide",children:(0,i.jsx)("div",{className:"space-y-2",children:(()=>{let e=0,t=["remu-icon","kaede-icon","kaho-icon"];return(0,i.jsxs)(i.Fragment,{children:[u.slice(0,S).map((s,n)=>(!s.isB&&e++,(0,i.jsx)(a.P.div,{initial:{opacity:0,y:0,scale:.95,x:"-50%",left:"50%"},animate:{opacity:1,scale:1,x:0,left:0},transition:{type:"spring",stiffness:300,damping:25,duration:.5,ease:"easeOut"},className:"flex ".concat(s.isB?"justify-end":"justify-start"," mb-3 mx-4 relative"),children:(0,i.jsxs)("div",{className:"relative max-w-[85%] flex items-start gap-2 ".concat(s.isB?"flex-row-reverse":"flex-row"),children:[!s.isB&&(0,i.jsx)("div",{className:"w-6 h-6 rounded-full flex-shrink-0 overflow-hidden",children:(0,i.jsx)("img",{src:"/static/icons/".concat(t[e%3],".png"),alt:s.name,className:"w-full h-full object-cover"})}),(0,i.jsxs)("div",{className:"flex flex-col",children:[s.name&&(0,i.jsx)("span",{className:"text-xs text-gray-500 mb-1 ".concat(s.isB?"text-right":"text-left"),children:s.name}),(0,i.jsx)("div",{className:"px-3 py-2 rounded-[16px] ".concat(s.isB?"bg-[#1382FE] text-white rounded-br-sm":"bg-[#F3F5F7] text-black rounded-bl-sm"),children:(0,i.jsx)("p",{className:"text-left text-sm leading-relaxed whitespace-pre-wrap",children:s.text})})]})]})},n))),T&&(0,i.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,ease:"easeInOut"},className:"flex justify-start mb-4 mx-4",children:(0,i.jsx)("div",{className:"bg-[#F3F5F7] rounded-full px-4 py-1",children:(0,i.jsx)("span",{className:"text-gray-500 text-xs",children:"入力中..."})})})]})})()})})})}),(0,i.jsx)(l.N,{children:e&&(0,i.jsx)(a.P.div,{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(10px)"},transition:{duration:2},className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-[100]",children:(0,i.jsx)(c.A,{onClick:()=>{try{let e=Math.floor(Math.random()*o.X.length),s=o.X[e];console.log("Selected result:",s),k(s),t(!1),m(!1),d(!0)}catch(e){console.error("遷移エラー:",e)}},style:{"--primary":"328 100% 54%"},children:"おみくじを引く"})})}),p&&(0,i.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"fixed inset-0 w-full h-full z-50",children:(0,i.jsx)(a.P.video,{ref:P,src:"/static/video/opening-2.mp4",autoPlay:!0,playsInline:!0,muted:!0,controls:!1,controlsList:"noplaybackrate nofullscreen nodownload",disablePictureInPicture:!0,style:{pointerEvents:"none",touchAction:"none"},className:"w-full h-full object-cover",onEnded:()=>{try{f(!1),m(!0),t(!0)}catch(e){console.error("Opening video end error:",e)}}})}),(0,i.jsx)(l.N,{children:s&&E&&(0,i.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1,filter:w?"blur(10px)":"blur(0px)"},exit:{opacity:0,filter:"blur(10px)"},transition:{duration:1},className:"fixed inset-0 w-full h-full z-50",children:(0,i.jsx)(a.P.video,{ref:B,src:"/static/video/".concat(E.video),autoPlay:!0,playsInline:!0,muted:!0,controls:!1,controlsList:"noplaybackrate nofullscreen nodownload",disablePictureInPicture:!0,style:{pointerEvents:"none",touchAction:"none"},className:"w-full h-full object-cover",onEnded:()=>{try{if(!E)return;console.log("Video ended, attempting to navigate"),d(!1),m(!1);let e=o.X.findIndex(e=>e.text===E.text);if(-1===e){console.error("結果が見つかりません");return}console.log("Navigating to result page with index:",e),L.push("/result?id=".concat(e),{scroll:!1})}catch(e){console.error("ルート遷移に失敗しました",e)}},onTimeUpdate:e=>{let t=e.target;t.duration,t.currentTime}})})})]})}},5683:(e,t,s)=>{"use strict";s.d(t,{N:()=>v});var i=s(5155),n=s(2115),r=s(9656),a=s(9234),l=s(7249);class o extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:s}=e,r=(0,n.useId)(),a=(0,n.useRef)(null),c=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:u}=(0,n.useContext)(l.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:n}=c.current;if(s||!a.current||!e||!t)return;a.current.dataset.motionPopId=r;let l=document.createElement("style");return u&&(l.nonce=u),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[s]),(0,i.jsx)(o,{isPresent:s,childRef:a,sizeRef:c,children:n.cloneElement(t,{ref:a})})}let u=e=>{let{children:t,initial:s,isPresent:l,onExitComplete:o,custom:u,presenceAffectsLayout:p,mode:f}=e,x=(0,a.M)(d),m=(0,n.useId)(),h=(0,n.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},[x,o]),v=(0,n.useMemo)(()=>({id:m,initial:s,isPresent:l,custom:u,onExitComplete:h,register:e=>(x.set(e,!1),()=>x.delete(e))}),p?[Math.random(),h]:[l,h]);return(0,n.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),n.useEffect(()=>{l||x.size||!o||o()},[l]),"popLayout"===f&&(t=(0,i.jsx)(c,{isPresent:l,children:t})),(0,i.jsx)(r.t.Provider,{value:v,children:t})};function d(){return new Map}var p=s(4710),f=s(5107);let x=e=>e.key||"";function m(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var h=s(5403);let v=e=>{let{children:t,exitBeforeEnter:s,custom:r,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync"}=e;(0,f.V)(!s,"Replace exitBeforeEnter with mode='wait'");let v=(0,n.useMemo)(()=>m(t),[t]),y=v.map(x),g=(0,n.useRef)(!0),b=(0,n.useRef)(v),j=(0,a.M)(()=>new Map),[w,N]=(0,n.useState)(v),[E,k]=(0,n.useState)(v);(0,h.E)(()=>{g.current=!1,b.current=v;for(let e=0;e<E.length;e++){let t=x(E[e]);y.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[E,y.length,y.join("-")]);let L=[];if(v!==w){let e=[...v];for(let t=0;t<E.length;t++){let s=E[t],i=x(s);y.includes(i)||(e.splice(t,0,s),L.push(s))}"wait"===d&&L.length&&(e=L),k(m(e)),N(v);return}let{forceRender:P}=(0,n.useContext)(p.L);return(0,i.jsx)(i.Fragment,{children:E.map(e=>{let t=x(e),s=v===E||y.includes(t);return(0,i.jsx)(u,{isPresent:s,initial:(!g.current||!!l)&&void 0,custom:s?void 0:r,presenceAffectsLayout:c,mode:d,onExitComplete:s?void 0:()=>{if(!j.has(t))return;j.set(t,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),k(b.current),o&&o())},children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[494,181,441,517,358],()=>t(6253)),_N_E=e.O()}]);