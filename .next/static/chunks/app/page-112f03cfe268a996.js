(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6253:(e,t,i)=>{Promise.resolve().then(i.bind(i,9942))},5147:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(5155),n=i(2115),s=i(1714),a=i(3463),l=i(9795);function o(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,l.QP)((0,a.$)(t))}let u={initial:{"--x":"-100%",scale:.8},animate:{"--x":["200%","-100%"],scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{stiffness:200,damping:20,mass:1.5,"--x":{duration:1.8,ease:"easeInOut",repeat:1/0,repeatDelay:1,times:[0,1],repeatType:"loop"},scale:{type:"spring",stiffness:200,damping:20,mass:.5}}},c=n.forwardRef((e,t)=>{let{children:i,className:n,...a}=e;return(0,r.jsxs)("div",{className:"relative isolate",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[#B302FF]/30 blur-xl rounded-full -z-10","aria-hidden":"true"}),(0,r.jsx)(s.P.button,{ref:t,...u,...a,className:o("relative rounded-full px-24 py-5 font-medium","transition-all duration-300 ease-in-out","hover:shadow-[0_0_25px_rgba(255,255,255,0.5)]","bg-[#B302FF]/60 backdrop-blur-2xl","border border-gray-200/30","shadow-lg","font-noto-sans-jp font-bold",n),children:(0,r.jsx)("span",{className:o("relative block size-full text-xl uppercase tracking-wide text-white whitespace-nowrap"),style:{maskImage:"linear-gradient(-75deg,rgba(255,255,255,1) calc(var(--x) + 20%),transparent calc(var(--x) + 30%),rgba(255,255,255,1) calc(var(--x) + 100%))"},children:i})})]})});c.displayName="ShinyButton";let d=c},3204:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});let r=[{text:"おみくじ結果",description:"次の電車は、スマホ封印でいこ！",video:"/images/video/result-1.mp4",textLines:["次の電車は、","スマホ封印でいこ！"],descriptionLines:["窓の外とか人間観察してたら、","意外とリフレッシュできるかも！","目的地つくまで、ぼーっとしてみよ"]},{text:"おみくじ結果",description:"一駅手前で降りて、マップに頼らず帰ってみよ！",video:"/images/video/result-2.mp4",textLines:["一駅手前で降りて、","マップに頼らず帰ってみよ！"],descriptionLines:["いつものルートじゃなくて、","気まぐれで別の道歩いてみよう。","寄り道して帰るのも","たまには悪くないんじゃない？"]},{text:"おみくじ結果",description:"今日はイヤホン外して外の音きいてみよ！",video:"/images/video/result-3.mp4",textLines:["今日はイヤホン外して","外の音きいてみよ！"],descriptionLines:["鳥の声・車の音とかの生活音を聞いて","今の音ってなんだろとか考えながら","ぼーっと過ごす時間も時には必要と思うんだよね〜"]},{text:"おみくじ結果",description:"目線ちょっと下げて、足元の景色チェックしてみよ？",video:"/images/video/result-4.mp4",textLines:["目線ちょっと下げて、","足元の景色チェックしてみよ？"],descriptionLines:["地面の模様とか、葉っぱとか小石とか","普段よりゆっくり歩いて","意外と新しい発見があって面白いんだよね〜"]},{text:"おみくじ結果",description:"今日は視線ちょい上げで過ごしてこ！",video:"/images/video/result-5.mp4",textLines:["今日は視線ちょい上げで","過ごしてみよ！"],descriptionLines:["天井や壁の模様、看板とか屋根とか","どんな材質・色・模様なのか","観察しながら歩くの楽しいんだよ！意外と！"]},{text:"おみくじ結果",description:"明日は早起きして美味しい朝ごはん食べに行かない？",video:"/images/video/result-6.mp4",textLines:["明日は早起きして","美味しい朝ごはん食べに行かない？"],descriptionLines:["明日の朝食いいもの食べる！","って決めたら明日が楽しみすぎない？！","スワイプやめて、明日に向けて休もうぜ〜！"]},{text:"おみくじ結果",description:"次のごはんは、スマホ見ずに食べよ！",video:"/images/video/result-7.mp4",textLines:["次のごはんは、","スマホ見ずに食べよ！"],descriptionLines:["スマホ見ずに食べるのも","意外と新しい発見があって面白いんだよ！","hoge"]}]},9942:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var r=i(5155),n=i(2115),s=i(6046),a=i(1714),l=i(9656),o=i(9234),u=i(7249);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:i}=e,s=(0,n.useId)(),a=(0,n.useRef)(null),l=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,n.useContext)(u.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:n}=l.current;if(i||!a.current||!e||!t)return;a.current.dataset.motionPopId=s;let u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(u)}},[i]),(0,r.jsx)(c,{isPresent:i,childRef:a,sizeRef:l,children:n.cloneElement(t,{ref:a})})}let p=e=>{let{children:t,initial:i,isPresent:s,onExitComplete:a,custom:u,presenceAffectsLayout:c,mode:p}=e,x=(0,o.M)(f),m=(0,n.useId)(),h=(0,n.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;a&&a()},[x,a]),v=(0,n.useMemo)(()=>({id:m,initial:i,isPresent:s,custom:u,onExitComplete:h,register:e=>(x.set(e,!1),()=>x.delete(e))}),c?[Math.random(),h]:[s,h]);return(0,n.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[s]),n.useEffect(()=>{s||x.size||!a||a()},[s]),"popLayout"===p&&(t=(0,r.jsx)(d,{isPresent:s,children:t})),(0,r.jsx)(l.t.Provider,{value:v,children:t})};function f(){return new Map}var x=i(4710),m=i(5107);let h=e=>e.key||"";function v(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var b=i(5403);let g=e=>{let{children:t,exitBeforeEnter:i,custom:s,initial:a=!0,onExitComplete:l,presenceAffectsLayout:u=!0,mode:c="sync"}=e;(0,m.V)(!i,"Replace exitBeforeEnter with mode='wait'");let d=(0,n.useMemo)(()=>v(t),[t]),f=d.map(h),g=(0,n.useRef)(!0),y=(0,n.useRef)(d),j=(0,o.M)(()=>new Map),[w,E]=(0,n.useState)(d),[P,L]=(0,n.useState)(d);(0,b.E)(()=>{g.current=!1,y.current=d;for(let e=0;e<P.length;e++){let t=h(P[e]);f.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[P,f.length,f.join("-")]);let k=[];if(d!==w){let e=[...d];for(let t=0;t<P.length;t++){let i=P[t],r=h(i);f.includes(r)||(e.splice(t,0,i),k.push(i))}"wait"===c&&k.length&&(e=k),L(v(e)),E(d);return}let{forceRender:N}=(0,n.useContext)(x.L);return(0,r.jsx)(r.Fragment,{children:P.map(e=>{let t=h(e),i=d===P||f.includes(t);return(0,r.jsx)(p,{isPresent:i,initial:(!g.current||!!a)&&void 0,custom:i?void 0:s,presenceAffectsLayout:u,mode:c,onExitComplete:i?void 0:()=>{if(!j.has(t))return;j.set(t,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==N||N(),L(y.current),l&&l())},children:e},t)})})};var y=i(3204),j=i(5147);function w(){let[e,t]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[o,u]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!0),[h,v]=(0,n.useState)(!1),[b,w]=(0,n.useState)(!1),[E,P]=(0,n.useState)(!1),[L,k]=(0,n.useState)(null),N=(0,s.useRouter)(),R=(0,n.useRef)(null),S=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{v(!0)},2e3),t=setTimeout(()=>{v(!1)},5e3),i=setTimeout(()=>{w(!0)},6e3),r=setTimeout(()=>{w(!1),m(!1)},1e4),n=setTimeout(()=>{d(!0)},13e3);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(i),clearTimeout(r),clearTimeout(n)}},[]),(0,n.useEffect)(()=>{if(c&&R.current){R.current.load(),R.current.play();let e=e=>{var t;e.preventDefault(),(null===(t=R.current)||void 0===t?void 0:t.paused)&&R.current.play()};return R.current.addEventListener("pause",e),()=>{let t=R.current;t&&(t.removeEventListener("pause",e),t.pause(),t.src="",t.load())}}},[c]),(0,n.useEffect)(()=>{if(i&&S.current){S.current.load(),S.current.play();let e=e=>{var t;e.preventDefault(),(null===(t=S.current)||void 0===t?void 0:t.paused)&&S.current.play()};return S.current.addEventListener("pause",e),()=>{let t=S.current;t&&(t.removeEventListener("pause",e),t.pause(),t.src="",t.load())}}},[i]),(0,r.jsxs)(a.P.div,{initial:{filter:"blur(10px)",opacity:0},animate:{filter:"blur(0px)",opacity:1},exit:{filter:"blur(10px)",opacity:0},transition:{duration:1},style:{overscrollBehaviorX:"auto"},className:"h-screen w-screen overflow-hidden relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 w-full h-full",style:{backgroundImage:x?"url('/images/background/background.gif')":p?"url('/images/background/background.gif')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transition:"opacity 0.5s ease-in-out"}}),(0,r.jsx)("div",{className:"relative z-10 h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)(g,{mode:"wait",children:[h&&(0,r.jsx)(a.P.div,{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(10px)",position:"absolute"},transition:{duration:1},className:"absolute left-[5%] top-1/2 -translate-y-1/2 w-[90%]",children:(0,r.jsxs)("div",{className:"text-left text-[35px] leading-relaxed text-white font-noto-sans-jp font-bold",children:["今年のおみくじは、",(0,r.jsx)("br",{}),"運勢じゃなくて、",(0,r.jsx)("br",{}),"きっかけとかどう？"]})}),b&&(0,r.jsx)(a.P.div,{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(10px)",position:"absolute"},transition:{duration:1},className:"absolute left-[5%] top-1/2 -translate-y-1/2 w-[90%]",children:(0,r.jsxs)("div",{className:"text-left text-[35px] leading-relaxed text-white font-noto-sans-jp font-bold",children:["ほんの少し",(0,r.jsx)("br",{}),"画面から離れる挑戦が、",(0,r.jsx)("br",{}),"新しい自分を",(0,r.jsx)("br",{}),"連れてきてくるかも"]})})]}),(0,r.jsx)(g,{children:e&&(0,r.jsx)(a.P.div,{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(10px)"},transition:{duration:2},className:"fixed bottom-20 left-1/2 -translate-x-1/2",children:(0,r.jsx)(j.A,{onClick:()=>{k(y.X[Math.floor(Math.random()*y.X.length)]),t(!1),l(!0)},style:{"--primary":"328 100% 54%"},children:"おみくじを引く"})})}),c&&(0,r.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"fixed inset-0 w-full h-full z-50",children:(0,r.jsx)(a.P.video,{ref:R,src:"/images/video/opening-2.mp4",autoPlay:!0,playsInline:!0,muted:!0,controls:!1,controlsList:"noplaybackrate nofullscreen nodownload",disablePictureInPicture:!0,style:{pointerEvents:"none"},className:"w-full h-full object-cover",onEnded:()=>{d(!1),f(!0),t(!0)}})}),(0,r.jsx)(g,{children:i&&L&&(0,r.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1,filter:E?"blur(10px)":"blur(0px)"},exit:{opacity:0,filter:"blur(10px)"},transition:{duration:1},className:"fixed inset-0 w-full h-full z-50",children:(0,r.jsx)(a.P.video,{ref:S,src:L.video,autoPlay:!0,playsInline:!0,muted:!0,controls:!1,controlsList:"noplaybackrate nofullscreen nodownload",disablePictureInPicture:!0,style:{pointerEvents:"none"},className:"w-full h-full object-cover",onEnded:()=>{try{l(!1);let e=y.X.findIndex(e=>e.text===(null==L?void 0:L.text));N.push("/result?id=".concat(e))}catch(e){console.error("ルート遷移に失敗しました",e)}},onTimeUpdate:e=>{let t=e.target;t.duration-t.currentTime<1&&!E&&P(!0)}})})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[455,441,517,358],()=>t(6253)),_N_E=e.O()}]);